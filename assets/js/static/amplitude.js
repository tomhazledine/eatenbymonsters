var Amplitude=function(){function e(e){if(!lt.initialized){lt.debug=void 0!=e.debug?e.debug:!1;var t=!1;e.songs?0!=e.songs.length||e.dynamic_mode?(lt.songs=e.songs,t=!0):j("Please add some songs, to your songs object!"):j("Please provide a songs object for AmplitudeJS to run!"),t&&(lt.soundcloud_client=void 0!=e.soundcloud_client?e.soundcloud_client:"",lt.soundcloud_use_art=void 0!=e.soundcloud_use_art?e.soundcloud_use_art:"",""!=lt.soundcloud_client?(ct=e,et()):V(e))}}function t(e){lt.debug=e}function a(){return lt.active_metadata}function n(e,t){lt.visualizations[e.getID]=e,void 0!=t&&e.setPreferences(t)}function s(e){K(),lt.active_visualization=e,G()}function o(){return window.AudioContext?!0:!1}function u(e){return lt.songs[e]}function l(e){return lt.songs.push(e),lt.songs.length-1}function c(e){lt.active_song.src=e.url,lt.active_metadata=e,lt.active_album=e.album,document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),U()}function d(){lt.dynamic_mode&&m()}function r(){lt.dynamic_mode&&_()}function m(){Z("before_play"),lt.active_metadata.live&&h(),lt.active_song.play(),Z("after_play")}function _(){lt.active_song.pause(),lt.active_metadata.live&&p()}function v(){Z("before_stop"),lt.active_song.currentTime=0,lt.active_song.pause(),lt.active_metadata.live&&p(),Z("after_stop")}function g(e){lt.active_song.volume=e/100}function f(e){lt.active_metadata.live||(lt.active_song.currentTime=lt.active_song.duration*(e/100))}function p(){lt.active_song.src="",lt.active_song.load()}function h(){lt.active_song.src=lt.active_metadata.url,lt.active_song.load()}function b(){var e=this.getAttribute("amplitude-song-index");D(e)?(C(),B(),this.classList.add("amplitude-playing"),this.classList.remove("amplitude-paused"),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),G(),m()):lt.active_song.paused?(this.classList.add("amplitude-playing"),this.classList.remove("amplitude-paused"),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),G(),m(this.getAttribute("amplitude-song-index"))):(this.classList.add("amplitude-paused"),this.classList.remove("amplitude-playing"),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-paused"),main_control.classList.remove("amplitude-playing")),_())}function y(){var e=this.getAttribute("amplitude-song-index");D(e)&&B(),G(),m()}function S(){_()}function x(){K(),v()}function L(){0==lt.volume?lt.volume=lt.pre_mute_volume:(lt.pre_mute_volume=lt.volume,lt.volume=0),g(100*lt.volume),k()}function A(){lt.volume=100*lt.volume+lt.volume_increment<=100?lt.volume+lt.volume_increment/100:1,g(100*lt.volume),k()}function E(){lt.volume=100*lt.volume-lt.volume_decrement>0?lt.volume-lt.volume_decrement/100:0,g(100*lt.volume),k()}function z(){lt.volume=this.value/100,g(this.value),k()}function q(){lt.active_song.paused||(this.getAttribute("amplitude-singular-song-slider")&&f(this.value),this.getAttribute("amplitude-song-index")==lt.active_index&&f(this.value))}function I(){Z("before_next"),v(),lt.shuffle_on?parseInt(lt.shuffle_active_index)+1<lt.shuffle_list.length?(W(lt.suffle_list[parseInt(lt.shuffle_active_index)+1].album),lt.active_song.src=lt.shuffle_list[parseInt(lt.shuffle_active_index)+1].url,lt.active_metadata=lt.shuffle_list[parseInt(lt.shuffle_active_index)+1],lt.active_album=lt.shuffle_list[parseInt(lt.shuffle_active_index)+1].album,lt.album_change&&(Z("after_album_change"),lt.album_change=!1),lt.shuffle_active_index=parseInt(lt.shuffle_active_index)+1):(W(lt.suffle_list[0].album),lt.active_song.src=lt.shuffle_list[0].url,lt.active_metadata=lt.shuffle_list[0],lt.active_album=lt.shuffle_list[0].album,lt.album_change&&(Z("after_album_change"),lt.album_change=!1),lt.shuffle_active_index=0):parseInt(lt.active_index)+1<lt.songs.length?(W(lt.songs[parseInt(lt.active_index)+1].album),lt.active_song.src=lt.songs[parseInt(lt.active_index)+1].url,lt.active_metadata=lt.songs[parseInt(lt.active_index)+1],lt.active_album=lt.songs[parseInt(lt.active_index)+1].album,lt.album_change&&(Z("after_album_change"),lt.album_change=!1),lt.active_index=parseInt(lt.active_index)+1):(W(lt.songs[0].album),lt.active_song.src=lt.songs[0].url,lt.active_metadata=lt.songs[0],lt.active_album=lt.songs[0].album,lt.album_change&&(Z("after_album_change"),lt.album_change=!1),lt.active_index=0),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),U(),Z("after_next")}function M(){Z("before_prev"),v(),lt.shuffle_on?parseInt(lt.shuffle_active_index)-1>=0?(W(lt.suffle_list[parseInt(lt.shuffle_active_index)-1].album),lt.active_song.src=lt.shuffle_list[parseInt(lt.shuffle_active_index)-1].url,lt.active_metadata=lt.shuffle_list[parseInt(lt.shuffle_active_index)-1],lt.active_album=lt.shuffle_list[parseInt(lt.shuffle_active_index)-1].album,lt.album_change&&(Z("after_album_change"),lt.album_change=!1),lt.shuffle_active_index=parseInt(lt.shuffle_active_index)-1):(W(lt.suffle_list[parseInt(lt.shuffle_list.length-1)].album),lt.active_song.src=lt.shuffle_list[parseInt(lt.shuffle_list.length-1)].url,lt.active_metadata=lt.shuffle_list[parseInt(lt.shuffle_list.length-1)],lt.active_album=lt.shuffle_list[parseInt(lt.shuffle_list.length-1)].album,lt.album_change&&(Z("after_album_change"),lt.album_change=!1),lt.shuffle_active_index=parseInt(lt.shuffle_list.length)-1):parseInt(lt.active_index)-1>=0?(W(lt.songs[parseInt(lt.active_index)-1].album),lt.active_song.src=lt.songs[parseInt(lt.active_index)-1].url,lt.active_metadata=lt.songs[parseInt(lt.active_index)-1],lt.active_album=lt.songs[parseInt(lt.active_index)-1].album,lt.album_change&&(Z("after_album_change"),lt.album_change=!1),lt.active_index=parseInt(lt.active_index)-1):(W(lt.songs[lt.songs.length-1].album),lt.active_song.src=lt.songs[lt.songs.length-1].url,lt.active_metadata=lt.songs[lt.songs.length-1],lt.active_album=lt.songs[lt.songs.length-1].album,lt.album_change&&(Z("after_album_change"),lt.album_change=!1),lt.active_index=parseInt(lt.songs.length)-1),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),U(),Z("after_prev")}function P(){lt.shuffle_on?(lt.shuffle_on=!1,lt.shuffle_list={},lt.shuffle_active_index=0):(lt.shuffle_on=!0,X()),H()}function C(){for(var e=document.getElementsByClassName("amplitude-play-pause"),t=0;t<e.length;t++)e[t].classList.add("amplitude-paused"),e[t].classList.remove("amplitude-playing")}function B(){for(var e=document.getElementsByClassName("amplitude-song-slider"),t=0;t<e.length;t++)e[t].value=0}function k(){for(var e=document.getElementsByClassName("amplitude-volume-slider"),t=0;t<e.length;t++)e[t].value=100*lt.active_song.volume}function T(){window.AudioContext||w()}function w(){switch(lt.visualization_backup){case"nothing":document.getElementById("amplitude-visualization")&&document.getElementById("amplitude-visualization").remove();break;case"album-art":var e=document.getElementById("amplitude-visualization");if(e){var t=e.parentNode,a=document.createElement("img");a.setAttribute("amplitude-song-info","cover"),a.setAttribute("class","amplitude-album-art"),document.querySelector('[amplitude-song-info="cover"]')&&(void 0!=lt.active_metadata.cover_art_url?(a.setAttribute("src",lt.active_metadata.cover_art_url),document.querySelector('[amplitude-song-info="cover"]').setAttribute("src",lt.active_metadata.cover_art_url)):""!=lt.default_album_art?a.setAttribute("src",lt.default_album_art):a.setAttribute("src","")),t.replaceChild(a,e)}}}function O(){for(var e=document.getElementsByClassName("amplitude-current-minutes"),t=0;t<e.length;t++)e[t].innerHTML="0";for(var a=document.getElementsByClassName("amplitude-current-seconds"),t=0;t<a.length;t++)a[t].innerHTML="00"}function N(){for(var e=document.getElementsByClassName("amplitude-song-container"),t=0;t<e.length;t++)e[t].classList.remove("amplitude-active-song-container")}function H(){for(var e=document.getElementsByClassName("amplitude-shuffle"),t=0;t<e.length;t++)lt.shuffle_on?(e[t].classList.add("amplitude-shuffle-on"),e[t].classList.remove("amplitude-shuffle-off")):(e[t].classList.remove("amplitude-shuffle-on"),e[t].classList.add("amplitude-shuffle-off"))}function V(e){void 0==e.dynamic_mode||e.dynamic_mode||(void 0!=e.start_song?(lt.active_song.src=lt.songs[e.start_song].url,lt.active_metadata=lt.songs[e.start_song],lt.active_album=lt.songs[e.start_song].album,lt.active_index=e.start_song):(lt.active_song.src=lt.songs[0].url,lt.active_metadata=lt.songs[0],lt.active_album=lt.songs[0].album,lt.active_index=0)),void 0==lt.active_metadata.live&&(lt.active_metadata.live=!1),lt.active_song.preload=void 0!=e.preload?e.preload:"metadata",lt.dynamic_mode=void 0!=e.dynamic_mode?e.dynamic_mode:!1,lt.callbacks=void 0!=e.callbacks?e.callbacks:{},lt.volume=void 0!=e.volume?e.volume:.5,lt.visualization_backup=void 0!=e.visualization_backup?e.visualization_backup:"nothing",lt.pre_mute_volume=void 0!=e.volume?e.volume:.5,lt.volume_increment=void 0!=e.volume_increment?e.volume_increment:5,lt.volume_decrement=void 0!=e.volume_decrement?e.volume_decrement:5,lt.use_visualizations=void 0!=e.use_visualizations?e.use_visualizations:!1,lt.default_album_art=void 0!=e.default_album_art?e.default_album_art:"",lt.active_song.volume=lt.volume,lt.handle_song_elements=void 0!=e.handle_song_elements?e.handle_song_elements:!0,lt.song_ended_callback=void 0!=e.song_ended_callback?e.song_ended_callback:"",lt.active_metadata.live?(w(),ut.disconnect(0),ot.disconnect(0),st.close()):!lt.dynamic_mode&&lt.use_visualizations&&(lt.active_song.crossOrigin="anonymous"),lt.dynamic_mode&&(ut.disconnect(0),ot.disconnect(0),st.close()),lt.use_visualizations||(ut.disconnect(0),ot.disconnect(0),st.close()),lt.initialized=!0,k(),T(),O(),B(),J(),lt.handle_song_elements&&Q(),N(),R(),ct={}}function j(e){lt.debug&&console.log(e)}function D(e){return null!=e&&e!=lt.active_index?(v(),W(lt.songs[e].album),lt.active_song.src=lt.songs[e].url,lt.active_metadata=lt.songs[e],lt.active_album=lt.songs[e].album,lt.album_change&&(Z("after_album_change"),lt.album_change=!1),lt.active_index=e,lt.handle_song_elements&&Q(),O(),J(),R(),!0):!1}function W(e){lt.active_album!=e&&(lt.album_change=!0,Z("before_album_change"))}function U(){J()&&G(),lt.handle_song_elements&&Q(),B(),O(),N(),R(),m()}function J(){var e=!1;return lt.active_metadata.visualization&&(lt.active_metadata.visualization!=lt.active_visualization&&""!=lt.active_visualization&&(K(),e=!0),lt.active_visualization=lt.active_metadata.visualization),e}function $(){lt.songs.length>1&&(v(),lt.shuffle_on?parseInt(lt.shuffle_active_index)+1<lt.shuffle_list.length?(lt.active_song.src=lt.shuffle_list[parseInt(lt.shuffle_active_index)+1].url,lt.active_metadata=lt.shuffle_list[parseInt(lt.shuffle_active_index)+1],lt.shuffle_active_index=parseInt(lt.shuffle_active_index)+1):(lt.active_song.src=lt.shuffle_list[0].url,lt.active_metadata=lt.shuffle_list[0],lt.shuffle_active_index=0):parseInt(lt.active_index)+1<lt.songs.length?(lt.active_song.src=lt.songs[parseInt(lt.active_index)+1].url,lt.active_metadata=lt.songs[parseInt(lt.active_index)+1],lt.active_index=parseInt(lt.active_index)+1):(lt.active_song.src=lt.songs[0].url,lt.active_metadata=lt.songs[0],lt.active_index=0),U()),Z("after_song_ended")}function F(){var e=(Math.floor(lt.active_song.currentTime%60)<10?"0":"")+Math.floor(lt.active_song.currentTime%60),t=Math.floor(lt.active_song.currentTime/60),a=(Math.floor(lt.active_song.duration%60)<10?"0":"")+Math.floor(lt.active_song.duration%60),i=Math.floor(lt.active_song.duration/60),n="";n=document.querySelector('[amplitude-singular-song-slider="true"]')?document.querySelector('[amplitude-singular-song-slider="true"]'):document.querySelector('input[amplitude-song-index="'+lt.active_index+'"]');var s="";if(s=document.querySelector('[amplitude-single-song-time-visualization="true"]')?document.querySelector('[amplitude-single-song-time-visualization="true"]'):document.querySelector('.amplitude-song-time-visualization[amplitude-song-index="'+lt.active_index+'"]'),document.querySelector('[amplitude-single-current-minutes="true"]')?document.querySelector('[amplitude-single-current-minutes="true"]').innerHTML=t:document.querySelector('.amplitude-current-minutes[amplitude-song-index="'+lt.active_index+'"]')&&(document.querySelector('.amplitude-current-minutes[amplitude-song-index="'+lt.active_index+'"]').innerHTML=t),document.querySelector('[amplitude-single-current-seconds="true"]')?document.querySelector('[amplitude-single-current-seconds="true"]').innerHTML=e:document.querySelector('.amplitude-current-seconds[amplitude-song-index="'+lt.active_index+'"]')&&(document.querySelector('.amplitude-current-seconds[amplitude-song-index="'+lt.active_index+'"]').innerHTML=e),lt.active_metadata.live||(document.querySelector('[amplitude-single-duration-seconds="true"]')?document.querySelector('[amplitude-single-duration-seconds="true"]').innerHTML=a:document.querySelector('.amplitude-duration-seconds[amplitude-song-index="'+lt.active_index+'"]')&&(document.querySelector('.amplitude-duration-seconds[amplitude-song-index="'+lt.active_index+'"]').innerHTML=a),document.querySelector('[amplitude-single-duration-minutes="true"]')?document.querySelector('[amplitude-single-duration-minutes="true"]').innerHTML=i:document.querySelector('.amplitude-duration-minutes[amplitude-song-index="'+lt.active_index+'"]')&&(document.querySelector('.amplitude-duration-minutes[amplitude-song-index="'+lt.active_index+'"]').innerHTML=i)),!lt.active_metadata.live&&n&&(n.value=void 0!=lt.active_metadata.duration?lt.active_song.currentTime/lt.active_metadata.duration*1e3*100:lt.active_song.currentTime/lt.active_song.duration*100),!lt.active_metadata.live&&s){var o=s.querySelectorAll(".amplitude-song-time-visualization-status"),u=s.offsetWidth;o[0].setAttribute("style","width:"+u*(lt.active_song.currentTime/lt.active_song.duration)+"px")}}function G(){if(!lt.visualization_started&&Object.keys(lt.visualizations).length>0){if(""!=lt.active_visualization)lt.visualizations[lt.active_visualization].startVisualization(lt.active_song),lt.current_visualization=lt.visualizations[lt.active_visualization];else{for(first_visualization in lt.visualizations);lt.visualizations[first_visualization].startVisualization(lt.active_song),lt.current_visualization=lt.visualizations[first_visualization]}lt.visualization_started=!0}}function K(){lt.visualization_started&&Object.keys(lt.visualizations).length>0&&(lt.current_visualization.stopVisualization(),lt.visualization_started=!1)}function Q(){if(document.querySelector('[amplitude-song-info="name"]')&&(document.querySelector('[amplitude-song-info="name"]').innerHTML=lt.active_metadata.name),document.querySelector('[amplitude-song-info="artist"]')&&(document.querySelector('[amplitude-song-info="artist"]').innerHTML=lt.active_metadata.artist),document.querySelector('[amplitude-song-info="album"]')&&(document.querySelector('[amplitude-song-info="album"]').innerHTML=lt.active_metadata.album),document.querySelector('[amplitude-song-info="cover"]')){var e=document.querySelectorAll('[amplitude-song-info="cover"]');for(i=0;i<e.length;i++)void 0!=lt.active_metadata.cover_art_url?e[i].setAttribute("src",lt.active_metadata.cover_art_url):""!=lt.default_album_art?e[i].setAttribute("src",lt.default_album_art):e[i].setAttribute("src","")}if(document.querySelector('[amplitude-song-info="call-sign"]')&&(document.querySelector('[amplitude-song-info="call-sign"]').innerHTML=lt.active_metadata.call_sign),document.querySelector('[amplitude-song-info="station-name"]')&&(document.querySelector('[amplitude-song-info="station-name"]').innerHTML=lt.active_metadata.station_name),document.querySelector('[amplitude-song-info="location"]')&&(document.querySelector('[amplitude-song-info="location"]').innerHTML=lt.active_metadata.location),document.querySelector('[amplitude-song-info="frequency"]')&&(document.querySelector('[amplitude-song-info="frequency"]').innerHTML=lt.active_metadata.frequency),document.querySelector('[amplitude-song-info="station-art"]')){var e=document.querySelectorAll('[amplitude-song-info="station-art"]');for(i=0;i<e.length;i++)void 0!=lt.active_metadata.cover_art_url?e[i].setAttribute("src",lt.active_metadata.station_art_url):""!=lt.default_album_art?e[i].setAttribute("src",lt.default_album_art):e[i].setAttribute("src","")}}function R(){var e=document.getElementsByClassName("amplitude-song-container");for(i=0;i<e.length;i++)e[i].classList.remove("amplitude-active-song-container");document.querySelector('.amplitude-song-container[amplitude-song-index="'+lt.active_index+'"]')&&document.querySelector('.amplitude-song-container[amplitude-song-index="'+lt.active_index+'"]').classList.add("amplitude-active-song-container")}function X(){var e=new Array(lt.songs.length);for(i=0;i<lt.songs.length;i++)e[i]=lt.songs[i];for(i=lt.songs.length-1;i>0;i--)rand_num=Math.floor(Math.random()*lt.songs.length+1),Y(e,i,rand_num-1);lt.shuffle_list=e}function Y(e,t,a){var i=e[t];e[t]=e[a],e[a]=i}function Z(e){if(lt.callbacks[e]){var t=window[lt.callbacks[e]];t()}}function et(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.src="https://connect.soundcloud.com/sdk.js",t.onreadystatechange=tt,t.onload=tt,e.appendChild(t)}function tt(){SC.initialize({client_id:lt.soundcloud_client}),at()}function at(){for(var e=/^https?:\/\/(soundcloud.com|snd.sc)\/(.*)$/,t=0;t<lt.songs.length;t++)lt.songs[t].url.match(e)&&(lt.soundcloud_song_count++,it(lt.songs[t].url,t))}function it(e,t){SC.get("/resolve/?url="+e,function(e){e.streamable?(lt.songs[t].url=e.stream_url+"?client_id="+lt.soundcloud_client,lt.soundcloud_use_art&&(lt.songs[t].cover_art_url=e.artwork_url),lt.songs[t].soundcloud_data=e):lt.debug&&j(lt.songs[t].name+" by "+lt.songs[t].artist+" is not streamable by the Soundcloud API"),lt.soundcloud_songs_ready++,lt.soundcloud_songs_ready==lt.soundcloud_song_count&&V(ct)})}function nt(){lt.active_song.addEventListener("timeupdate",F),lt.active_song.addEventListener("ended",$);for(var e=document.getElementsByClassName("amplitude-play"),t=0;t<e.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?e[t].addEventListener("touchstart",y):e[t].addEventListener("click",y);for(var a=document.getElementsByClassName("amplitude-pause"),t=0;t<a.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?a[t].addEventListener("touchstart",S):a[t].addEventListener("click",S);for(var i=document.getElementsByClassName("amplitude-stop"),t=0;t<i.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?i[t].addEventListener("touchstart",x):i[t].addEventListener("click",x);for(var n=document.getElementsByClassName("amplitude-play-pause"),t=0;t<n.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?n[t].addEventListener("touchstart",b):n[t].addEventListener("click",b);for(var s=document.getElementsByClassName("amplitude-mute"),t=0;t<s.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?j("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):s[t].addEventListener("touchstart",L):s[t].addEventListener("click",L);for(var o=document.getElementsByClassName("amplitude-volume-up"),t=0;t<o.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?j("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):o[t].addEventListener("touchstart",A):o[t].addEventListener("click",A);for(var u=document.getElementsByClassName("amplitude-volume-down"),t=0;t<u.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?j("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):u[t].addEventListener("touchstart",E):u[t].addEventListener("click",E);for(var l=document.getElementsByClassName("amplitude-song-slider"),t=0;t<l.length;t++)l[t].addEventListener("input",q);for(var c=document.getElementsByClassName("amplitude-volume-slider"),t=0;t<c.length;t++)/iPhone|iPad|iPod/i.test(navigator.userAgent)?j("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):c[t].addEventListener("input",z);for(var d=document.getElementsByClassName("amplitude-next"),t=0;t<d.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?d[t].addEventListener("touchstart",I):d[t].addEventListener("click",I);for(var r=document.getElementsByClassName("amplitude-prev"),t=0;t<r.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?r[t].addEventListener("touchstart",M):r[t].addEventListener("click",M);for(var m=document.getElementsByClassName("amplitude-shuffle"),t=0;t<m.length;t++)m[t].classList.remove("amplitude-shuffle-on"),m[t].classList.add("amplitude-shuffle-off"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?m[t].addEventListener("touchstart",P):m[t].addEventListener("click",P);for(var _=document.getElementsByClassName("amplitude-song-time-visualization"),t=0;t<_.length;t++){var v=document.createElement("div");v.classList.add("amplitude-song-time-visualization-status"),v.setAttribute("style","width: 0px"),_[t].appendChild(v)}}document.onreadystatechange=function(){"complete"==document.readyState&&nt()};var st,ot,ut,lt={active_song:new Audio,active_metadata:{},active_album:"",active_index:0,album_change:!1,dynamic_mode:!1,callbacks:{},songs:{},shuffle_list:{},shuffle_on:!1,shuffle_active_index:0,default_album_art:"",debug:!1,initialized:!1,handle_song_elements:!0,volume:.5,pre_mute_volume:.5,volume_increment:5,volume_decrement:5,visualizations:new Array,active_visualization:"",current_visualization:{},visualization_started:!1,visualization_backup:"",song_ended_callback:"",soundcloud_client:"",soundcloud_use_art:!1,soundcloud_song_count:0,soundcloud_songs_ready:0,use_visualizations:!1},ct={};return window.AudioContext&&(st=new AudioContext,ot=st.createAnalyser(),ut=st.createMediaElementSource(lt.active_song),ut.connect(ot),ot.connect(st.destination)),{init:e,setDebug:t,getActiveSongMetadata:a,getSongByIndex:u,playNow:c,play:d,pause:r,registerVisualization:n,visualizationCapable:o,changeVisualization:s,addSong:l,analyser:ot,source:ut,active:lt.active_song}}();